<div class="flex flex-col items-center">
  <h1 class="text-4xl font-bold mb-4">Movies</h1>

  <%= form_with url: root_path, method: :get, local: true, class: "mb-6" do %>
    <div class="flex items-center space-x-4">
      <%= label_tag :actor, "Search by Actor", class: "text-lg font-medium" %>
      <%= text_field_tag :actor, params[:actor], class: "p-2 border rounded" %>
      <%= submit_tag "Search", class: "p-2 bg-blue-500 text-white rounded hover:bg-blue-600" %>
    </div>
  <% end %>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <% @movies.each do |movie| %>
      <div class="bg-gray-100 border rounded-lg p-4 flex flex-col">
        <div class="bg-gray-300 h-40 flex items-center justify-center rounded-t-lg text-center text-xl font-bold text-gray-600 mb-4">
          <span><%= movie.name %></span>
        </div>
        <div class="p-4 flex-grow">
        <h2 class="text-lg font-semibold mb-2"><%= movie.name %></h2>
        <p class="text-blue-700 mb-2"><%= movie.description %></p>
        <p class="text-gray-500 font-bold">Year:</p>
        <p class="text-gray-500 mb-2"><%= movie.year %></p>
        <p class="text-gray-500 font-bold">Director:</p>
        <p class="text-gray-500 mb-2"><%= movie.director %></p>
        <p class="text-gray-500 font-bold">Actor:</p>
        <p class="text-gray-500 mb-2"><%= movie.actor %></p>
        <p class="text-gray-500 font-bold">Filming Location:</p>
        <p class="text-gray-500 mb-2"><%= movie.filming_location %></p>
        <p class="text-gray-500 font-bold">Country:</p>
        <p class="text-gray-500 mb-2"><%= movie.country %></p>
        <p class="text-gray-800 font-bold mt-2">Average Rating: <%= movie.reviews.average(:stars).to_f.round(2) %></p>
        <%= link_to 'View Reviews', movie_reviews_path(movie), class: "mt-4 inline-block text-blue-500 hover:underline" %>
        </div>
      </div>
    <% end %>
  </div>
</div>
